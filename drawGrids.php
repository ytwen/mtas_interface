<?php  //session_start();  set_time_limit(0);  //$rectBounds = $_SESSION['rectBounds'];  //foreach($rectBounds AS $index=>$rect) {  //  $Sbound = $rect->south; $Wbound = $rect->west; $Nbound = $rect->north; $Ebound = $rect->east;  //  $count = $rect->count;  //  echo "<script>drawRects($Sbound,$Wbound,$Nbound,$Ebound,$index,$count,$support);</script>";  // for demo  //}    include("../../include/geo.class.php");  $range = $_POST['range'];  $size = $_POST['grid_size'];  $pattern = $_POST['pattern'];    $coordinate = explode(',', $range); //22.275, 118.703,23.231, 120.325  $Sbound = $coordinate[0]; $Wbound = $coordinate[1]; $Nbound = $coordinate[2]; $Ebound = $coordinate[3];  $grids = explode(',', $pattern);    $split=new Geo();  $rectBounds = $split -> splitRects($Sbound,$Wbound,$Nbound,$Ebound,$size);    foreach($rectBounds AS $index=>$rect) {    $Sbound = $rect->south; $Wbound = $rect->west; $Nbound = $rect->north; $Ebound = $rect->east;    if (array_search($index,$grids) === false) // true: draw color      $color = 0;    else      $color = 100;    echo "<script>drawRects($Sbound,$Wbound,$Nbound,$Ebound,$index,$color,10);</script>";  // for demo  }  ?>